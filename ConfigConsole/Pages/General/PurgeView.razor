@page "/general/batch/purges"
@using ConfigConsole.Models;
@using ConfigConsole.Components

<PageTitle>Purges</PageTitle>

<RadzenText Text="Purges" TextStyle="TextStyle.DisplayH4" class="mb-5" />

<RadzenDataGrid @ref="dataGrid" @bind-Value="SelectedRecords" TItem="PurgeModel" Data="@tableData" AllowFiltering=true
                AllowSorting=true AllowColumnResize=true AllowColumnReorder=true Responsive=true
                AllowRowSelectOnRowClick=true PageSize="10" AllowPaging=true AllowColumnPicking=true ShowPagingSummary=true
                SelectionMode="DataGridSelectionMode.Single">
    <HeaderTemplate>
        <!--smalls screen buttons-->
        <RadzenButton Icon="add" class="rz-ripple rz-my-1 d-sm-inline-flex d-xl-none" Click="NavigateToCreateRecordForm" ButtonStyle="ButtonStyle.Secondary" />
        <RadzenButton Icon="delete" class="rz-ripple rz-my-1 d-sm-inline-flex d-xl-none" ButtonStyle="ButtonStyle.Secondary" Disabled="actionButtonDisabled" Click="DeleteRecord" />
        <RadzenButton Icon="edit" class="rz-ripple rz-my-1 d-sm-inline-flex d-xl-none" ButtonStyle="ButtonStyle.Secondary" Disabled="actionButtonDisabled" Click="NavigateToEditRecordForm" />

        <!--large screen buttons-->
        <ExportButton @ref="exportButton" Class="rz-ripple rz-my-1 d-none d-xl-inline-flex" ButtonStyle="ButtonStyle.Secondary" Click="ExportRecordsToCsv" FileName="purges.csv" />
        <RadzenButton Icon="add" Text="New" class="rz-ripple rz-my-1 d-none d-xl-inline-flex" Click="NavigateToCreateRecordForm" ButtonStyle="ButtonStyle.Secondary" Size="ButtonSize.Small" />
        <RadzenButton Icon="delete" Text="Delete" class="rz-ripple rz-my-1 d-none d-xl-inline-flex" ButtonStyle="ButtonStyle.Secondary" Disabled="actionButtonDisabled" Click="DeleteRecord" Size="ButtonSize.Small" />
        <RadzenButton Icon="edit" Text="Edit" class="rz-ripple rz-my-1 d-none d-xl-inline-flex" ButtonStyle="ButtonStyle.Secondary" Disabled="actionButtonDisabled" Click="NavigateToEditRecordForm" Size="ButtonSize.Small" />
    </HeaderTemplate>
    <Columns>
        <RadzenDataGridColumn TItem="PurgeModel" Property="Id" Title="PurgeId" SortOrder="SortOrder.Ascending"/>
        <RadzenDataGridColumn TItem="PurgeModel" Property="ClassName" Title="Class Name" />
        <RadzenDataGridColumn TItem="PurgeModel" Property="RetentionDays" Title="RetentionDays" />
        <RadzenDataGridColumn TItem="PurgeModel" Property="BulkEnabled" Title="BulkEnabled" />
    </Columns>
</RadzenDataGrid>