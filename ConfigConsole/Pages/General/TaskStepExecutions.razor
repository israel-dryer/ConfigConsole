@page "/general/task/{taskId}/tasksteps/{taskStepId}/executions"
@using ConfigConsole.Components
@using ConfigConsole.Models;

<PageTitle>Task Step Executions</PageTitle>

<RadzenText TextStyle="TextStyle.DisplayH4">Task Step Executions</RadzenText>
<RadzenText TextStyle="TextStyle.Subtitle1">TaskId (@TaskId) TaskStepId (@TaskStepId)</RadzenText>

<RadzenDataGrid TItem="TaskStepExecution" AllowFiltering=true AllowSorting=true Data="tableData"
                AllowColumnReorder=true AllowColumnPicking=true AllowPaging=true PageSize="15"
                ShowPagingSummary=true Responsive=true>
    <HeaderTemplate>

        <!--small screen buttons-->
        <RadzenButton Icon="arrow_back" class="rz-ripple rz-my-1 d-none d-md-inline-flex d-xl-none" ButtonStyle="ButtonStyle.Primary" Click="NavigateToTaskStepView" Size="ButtonSize.Large" />
        <RadzenButton Icon="download" class="rz-ripple rz-my-1 d-none d-md-inline-flex d-xl-none" ButtonStyle="ButtonStyle.Secondary" Size="ButtonSize.Large" />

        <!--large screen buttons-->
        <RadzenButton Text="Task Steps" Icon="arrow_back" class="rz-ripple rz-my-1 d-none d-xl-inline-flex" ButtonStyle="ButtonStyle.Primary" Click="NavigateToTaskStepView" />
        <ExportButton @ref="exportButton" ButtonText="Export" FileName="taskstepexecutions.csv" Class="rz-ripple rz-my-1 d-none d-xl-inline-flex" ButtonStyle="ButtonStyle.Secondary" Click="ExportData" ButtonSize="ButtonSize.Medium"/>
    </HeaderTemplate>
    <Columns>
        <RadzenDataGridColumn TItem="TaskStepExecution" Property="Id" Title="Task Step Id" SortOrder="SortOrder.Ascending" />
        <RadzenDataGridColumn TItem="TaskStepExecution" Property="Lot" Title="Lot" Visible=false />
        <RadzenDataGridColumn TItem="TaskStepExecution" Property="SourceId" Title="Source Id" Visible=false />
        <RadzenDataGridColumn TItem="TaskStepExecution" Property="AnchorPrompt" Title="Anchor Prompt" Visible=false />
        <RadzenDataGridColumn TItem="TaskStepExecution" Property="DestinationId" Title="Destination Id" Visible=false />
        <RadzenDataGridColumn TItem="TaskStepExecution" Property="Reported" Title="Reported" Visible=false />
        <RadzenDataGridColumn TItem="TaskStepExecution" Property="ProcessData" Title="Process Data" />
        <RadzenDataGridColumn TItem="TaskStepExecution" Property="ExecutionDate" Title="Execution Date" />
    </Columns>
</RadzenDataGrid>

<RadzenCard class="fixed-bottom d-md-none rz-background-color-base-900 m-0 p-2" >
    <RadzenStack Orientation="Orientation.Horizontal" Gap="1" JustifyContent="JustifyContent.Right">
        <RadzenButton Text="Tasks" Icon="arrow_back" class="flex-end d-md-none" ButtonStyle="ButtonStyle.Primary" Click="NavigateToTaskStepView" Size="ButtonSize.Large" />
        <ExportButton @ref="exportButton" ButtonText="Export" FileName="tasksteps.csv" Class="flex-end d-md-none" ButtonStyle="ButtonStyle.Secondary" Click="ExportData" ButtonSize="ButtonSize.Large" />
    </RadzenStack>
</RadzenCard>